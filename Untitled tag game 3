-- Load Orion Library
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local hitboxSize = Vector3.new(12, 12, 12)
local isExpanded = false
local isSpeedBoostActive = false
local isInfiniteJumpActive = false
local normalSpeed = 16
local boostedSpeed = normalSpeed * 6

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

-- Create Orion Window
local Window = OrionLib:MakeWindow({Name = "Game Enhancer", HidePremium = true, IntroText = "Game Enhancer GUI"})

-- Expand Hitboxes Toggle
local expandToggle = Window:MakeToggle({
    Name = "Expand Hitboxes",
    Default = false,
    Callback = function(state)
        isExpanded = state
        updateHitboxes()
    end
})

-- Speed Boost Toggle
local speedToggle = Window:MakeToggle({
    Name = "Speed Boost (6x)",
    Default = false,
    Callback = function(state)
        isSpeedBoostActive = state
        humanoid.WalkSpeed = isSpeedBoostActive and boostedSpeed or normalSpeed
    end
})

-- Infinite Jump Toggle
local jumpToggle = Window:MakeToggle({
    Name = "Infinite Jump",
    Default = false,
    Callback = function(state)
        isInfiniteJumpActive = state
    end
})

-- Helper function to update hitboxes
function updateHitboxes()
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
            local h = plr.Character:FindFirstChild("Humanoid")
            local hrp = plr.Character.HumanoidRootPart
            if h and h.Health > 0 then
                hrp.Size = isExpanded and hitboxSize or Vector3.new(2, 2, 1)
                hrp.Transparency = isExpanded and 0.5 or 1
                hrp.CanCollide = false
            else
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 1
            end
        end
    end
end

-- Continuously update hitboxes if expanded
RunService.RenderStepped:Connect(function()
    if isExpanded then
        updateHitboxes()
    end
end)

-- Infinite jump functionality
UserInputService.JumpRequest:Connect(function()
    if isInfiniteJumpActive then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- Launch the GUI
OrionLib:Init()
